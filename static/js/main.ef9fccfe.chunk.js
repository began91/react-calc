(this["webpackJsonpreact-calc"]=this["webpackJsonpreact-calc"]||[]).push([[0],{11:function(e,t,r){e.exports=r(27)},16:function(e,t,r){},23:function(e,t,r){},24:function(e,t,r){},25:function(e,t,r){},26:function(e,t,r){},27:function(e,t,r){"use strict";r.r(t);var a=r(0),s=r.n(a),n=r(3),u=r.n(n),c=(r(16),r(1)),l=function(e){var t=Object(c.c)((function(e){return e.calc.firstNumber+(e.calc.firstOperator?" ".concat(e.calc.firstOperator," "):"")+(e.calc.secondNumber?e.calc.secondNumber:"")+(e.calc.secondOperator?" ".concat(e.calc.secondOperator):"")}));return s.a.createElement("div",{id:"operation-display"},t)},o=function(){var e=Object(c.c)((function(e){switch(e.calc.status){case"result":return e.calc.result;case"fresh":return"0";case"firstNumber":return e.calc.firstNumber;case"secondNumber":return e.calc.secondNumber;case"firstOperator":return e.calc.firstNumber;case"secondOperator":return e.calc.result;default:return"0"}}));return s.a.createElement("div",{id:"result"},e)},i=r(10),m=r(4),f={firstNumber:"0",secondNumber:null,firstOperator:null,secondOperator:null,result:null,status:"fresh",history:[]},d=function(e){"result"===e.status?e.firstNumber=e.result:e.status.includes("Operator")&&(e.firstNumber=e.result||e.firstNumber,e.secondNumber=e.result||e.firstNumber,e.firstOperator=e.secondOperator||e.firstOperator,e.secondOperator=null);var t,r=e.firstNumber,a=e.firstOperator,s=e.secondNumber;if("-"===s)t="Error";else switch(a){case"+":t=Number(r)+Number(s);break;case"-":t=Number(r)-Number(s);break;case"/":t=0===Number(s)?"Error":Number(r)/Number(s);break;case"*":t=Number(r)*Number(s);break;default:t=Number(r)}t=t>999999999?"999999999":String(Number(t.toFixed(8))).slice(0,9),e.result=t,e.status="result",e.history.unshift({firstNumber:e.firstNumber,firstOperator:e.firstOperator,secondNumber:e.secondNumber,result:e.result})},b=Object(m.b)({name:"calculator",initialState:f,reducers:{handleKey:function(e,t){var r=Object(i.a)(t.payload,2),a=r[0],s=r[1];if("num"===a&&function(e,t){e.status.includes("Number")?"0"===e[e.status]?e[e.status]=t.toString():e[e.status].length<9&&(e[e.status]+=t.toString()):e.status.includes("Operator")?(e.secondNumber=t.toString(),e.status="secondNumber",e.firstOperator=e.secondOperator||e.firstOperator,e.secondOperator=null,e.firstNumber=e.result||e.firstNumber):(e.firstOperator=null,e.secondNumber=null,e.result=null,e.firstNumber=t.toString(),e.status="firstNumber")}(e,s),"decimal"===a&&function(e){e.status.includes("Number")?!e[e.status].includes(".")&&e[e.status].length<=8&&(e[e.status]+="."):e.status.includes("Operator")?(e.secondNumber="0.",e.status="secondNumber",e.firstOperator=e.secondOperator||e.firstOperator,e.secondOperator=null,e.firstNumber=e.result||e.firstNumber):(e.firstOperator=null,e.secondNumber=null,e.firstNumber="0.",e.status="firstNumber")}(e),"operator"===a&&function(e,t){"fresh"===e.status||"firstNumber"===e.status?(e.status="firstOperator",e.firstOperator=t):"secondNumber"===e.status?(d(e),e.status="secondOperator",e.secondOperator=t):e.status.includes("Operator")?e[e.status]=t:(e.firstNumber=e.result,e.result=null,e.secondNumber=null,e.firstOperator=t,e.status="firstOperator")}(e,s),"clear"===a)return function(e,t){if("C"===t||"fresh"===e.status||"firstNumber"===e.status&&1===e.firstNumber.length||"result"===e.status){var r=e.history;e=Object.assign({},f,{history:r})}else e.status.includes("Operator")?(e[e.status]=null,e.status=e.status.slice(0,-8)+"Number"):1===e[e.status].length?(e[e.status]=null,e.status="firstOperator"):e[e.status]=e[e.status].slice(0,-1);return e}(e,s);"equal"===a&&d(e),"neg"===a&&function(e){"fresh"===e.status?(e.firstNumber="-",e.status="firstNumber"):e.status.includes("Number")?e[e.status]=String(-1*e[e.status]):e.status.includes("Operator")?(e.secondNumber="-",e.status="secondNumber",e.firstOperator=e.secondOperator||e.firstOperator,e.secondOperator=null,e.firstNumber=e.result||e.firstNumber):(e.firstNumber=String(-1*e.result),e.firstOperator=null,e.secondNumber=null,e.result=null,e.status="firstNumber")}(e)},loadHistoryIndex:function(e,t){return e=Object.assign({},e,e.history[t.payload])}}}),p=b.actions,N=p.handleKey,O=p.loadHistoryIndex,y=(r(23),function(e){var t=Object(c.b)();return s.a.createElement("button",{key:e.value,className:"".concat(e.type,"-key ").concat(+e.isActive?"  activeOperator":""),id:"".concat(e.type,"-key-").concat(e.value),onClick:function(){return t(N([e.type,e.value]))}},e.value)}),v=function(){for(var e=[],t=0;t<10;t++)e.unshift(s.a.createElement(y,{type:"num",value:t,key:t})),0===t&&(e.unshift(s.a.createElement(y,{type:"decimal",value:".",key:"."})),e.unshift(s.a.createElement(y,{type:"equal",value:"=",key:"="})));return s.a.createElement("div",{id:"num-keys"},e)},E=["+","-","*","/"],h=function(e){var t=Object(c.c)((function(e){return e.calc.secondOperator||e.calc.firstOperator}));return s.a.createElement("div",{id:"operator-keys"},E.map((function(e){var r=t===e;return s.a.createElement(y,{type:"operator",value:e,key:e,isActive:r})})))},k=function(e){return s.a.createElement("div",{id:"clear-keys"},s.a.createElement(y,{type:"clear",value:"C",key:"C"}),s.a.createElement(y,{type:"clear",value:"CE",key:"CE"}),s.a.createElement(y,{type:"neg",value:"\xb1",key:"neg"}))},g=function(){var e=Object(c.b)();return document.addEventListener("keydown",(function(t){var r,a;Number.isInteger(Number(t.key))?(r="num",a=t.key):t.key.match(/\./)?(r="decimal",a="."):t.key.match(/[+*/-]/)?(r="operator",a=t.key):"Backspace"===t.key||"Delete"===t.key?(r="clear",a="CE"):"Escape"===t.key?(r="clear",a="C"):"Enter"===t.key||"="===t.key?(r="equal",a="="):"m"===t.key&&(r="neg",a="\xb1"),r&&a&&t.preventDefault(),e(N([r,a]))})),s.a.createElement("div",{id:"keys"},s.a.createElement(v,null),s.a.createElement(h,null),s.a.createElement(k,null))},j=(r(24),function(){return s.a.createElement("div",{id:"calculator"},s.a.createElement(l,null),s.a.createElement(o,null),s.a.createElement(g,null))}),w=(r(25),function(e){var t=Object(c.b)(),r=Object(c.c)((function(e){return e.calc.history})),a=null===r||void 0===r?void 0:r.map((function(e,r){return s.a.createElement("div",{className:"history-entry",key:r,onClick:function(){return t(O(r))}},s.a.createElement("span",{className:"history-operations"},e.firstNumber+(e.firstOperator?e.firstOperator+e.secondNumber:"")+"= "),s.a.createElement("br",null),s.a.createElement("span",{className:"history-result"},e.result))}));return s.a.createElement("div",{id:"history"},s.a.createElement("h3",null,"History"),a.slice(0,5))}),C=Object(m.a)({reducer:{calc:b.reducer}});r(26);var S=function(){return s.a.createElement(c.a,{store:C},s.a.createElement("div",{className:"App"},s.a.createElement("header",{className:"App-header"},s.a.createElement("h2",null,"React Calculator")),s.a.createElement("section",{className:"calculator"},s.a.createElement(j,null),s.a.createElement(w,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[11,1,2]]]);
//# sourceMappingURL=main.ef9fccfe.chunk.js.map